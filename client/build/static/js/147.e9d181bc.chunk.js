"use strict";(self.webpackChunkwingrox_ai_client=self.webpackChunkwingrox_ai_client||[]).push([[147],{2147:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var i=a(5043),s=a(9682),l=a(579);const r=()=>{const{cart:e,removeFromCart:t,updateQuantity:r,clearCart:o}=(0,s._)(),[d,n]=(0,i.useState)(!1),[c,x]=(0,i.useState)(null);return 0===e.items.length?(0,l.jsx)("div",{className:"p-12 text-center text-gray-400 text-2xl font-semibold bg-white rounded-2xl mt-10 shadow-md",children:"Your cart is empty."}):(0,l.jsxs)("div",{className:"max-w-2xl mx-auto mt-12 bg-white rounded-3xl shadow-xl p-8 md:p-12 min-h-[340px]",children:[(0,l.jsx)("h2",{className:"text-3xl md:text-4xl font-extrabold mb-8 text-center text-indigo-900 tracking-tight drop-shadow",children:"Your Cart"}),(0,l.jsx)("ul",{className:"divide-y divide-gray-200 mb-8",children:e.items.map(e=>(0,l.jsxs)("li",{className:"flex flex-col md:flex-row items-center gap-4 py-5",children:[e.image&&(0,l.jsx)("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded-xl shadow-sm border border-gray-100"}),(0,l.jsxs)("div",{className:"flex-1 w-full flex flex-col md:flex-row md:items-center gap-2 md:gap-0",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"font-bold text-lg text-indigo-700 mb-1 hover:underline cursor-pointer",children:e.name}),(0,l.jsxs)("div",{className:"text-gray-500 text-base font-medium",children:["\u20b9",e.price]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2 md:mt-0",children:[(0,l.jsx)("input",{type:"number",min:1,value:e.quantity,onChange:t=>r(e.productId,Math.max(1,Number(t.target.value))),className:"w-14 border border-gray-300 rounded-lg px-2 py-1 font-semibold text-base text-center bg-gray-50 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),(0,l.jsx)("button",{onClick:()=>t(e.productId),className:"ml-2 text-pink-600 font-bold text-base hover:underline hover:text-pink-700 transition-colors",children:"Remove"})]})]})]},e.productId))}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[(0,l.jsx)("div",{}),(0,l.jsxs)("div",{className:"text-xl md:text-2xl font-extrabold text-indigo-900 text-right",children:["Total: \u20b9",e.items.reduce((e,t)=>e+t.price*t.quantity,0)]})]}),c&&(0,l.jsx)("div",{className:"text-red-500 mb-4 text-center font-semibold",children:c}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-center gap-6",children:[(0,l.jsx)("button",{onClick:async()=>{n(!0),x(null);try{const t=e.items.map(e=>{let{productId:t,quantity:a}=e;return{productId:t,quantity:a}}),i=await fetch("http://localhost:3001/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})}),s=await i.json();if(s.free&&s.downloadUrl)return window.location.href=s.downloadUrl,void await o();if(s.id){const e=await a.e(677).then(a.bind(a,9677)),t=await e.loadStripe("pk_test_51RiIvuHIOERYAOnI6YsstgEaBYWoF6LJkat0sJI3LHPN3cdsXBhgAcTtF3HMe7R7pAliSkNoDCyOrv1jPUvD0q0h0073rs3DjP");await(null===t||void 0===t?void 0:t.redirectToCheckout({sessionId:s.id})),await o()}else x("Failed to start payment.")}catch(t){x(t.message||"Checkout failed.")}finally{n(!1)}},className:"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white font-extrabold rounded-xl px-10 py-4 text-lg shadow-lg transition-all duration-150 disabled:opacity-60 disabled:cursor-not-allowed",disabled:d,children:d?"Processing...":"Checkout"}),(0,l.jsx)("button",{onClick:o,className:"bg-gray-100 hover:bg-gray-200 text-indigo-900 font-bold rounded-xl px-10 py-4 text-lg shadow-md transition-all duration-150",children:"Clear Cart"})]})]})}}}]);
//# sourceMappingURL=147.e9d181bc.chunk.js.map