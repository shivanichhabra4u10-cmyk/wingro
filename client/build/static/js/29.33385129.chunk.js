"use strict";(self.webpackChunkwingrox_ai_client=self.webpackChunkwingrox_ai_client||[]).push([[29],{2029:(e,s,l)=>{l.r(s),l.d(s,{default:()=>n});var i=l(5043),t=l(3216),a=l(9682),r=l(579);const n=()=>{var e,s,l,n,d,o,c,x,h;const{id:m}=(0,t.g)(),u=(0,t.zy)(),{addToCart:g}=(0,a._)(),p=(0,t.Zp)(),[v,j]=(0,i.useState)(()=>u.state&&u.state.product?u.state.product:null),[f,b]=(0,i.useState)(!v),[w,y]=(0,i.useState)(null),[N,k]=(0,i.useState)(0),[L,C]=(0,i.useState)(!1),[S,P]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{v||(b(!0),fetch(`http://localhost:3001/api/products/${m}`).then(e=>{if(!e.ok)throw new Error("Product not found");return e.json()}).then(e=>{console.log("Fetched product detail:",e);let s=e;e&&"object"===typeof e&&"data"in e&&"object"===typeof e.data&&(s=e.data),s&&!s._id&&s.id&&(s._id=s.id),s&&(s._id||s.id)?(j(s),k(0)):(y("Product not found or invalid data"),j(null)),b(!1)}).catch(e=>{y(e.message),b(!1)}))},[m,v]),f)return(0,r.jsx)("div",{className:"text-center py-10",children:"Loading..."});if(w)return(0,r.jsx)("div",{className:"text-center text-red-500 py-10",children:w});if(!v)return null;const _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return(0,r.jsxs)("span",{className:"text-yellow-500",children:["\u2605".repeat(Math.round(e)),"\u2606".repeat(5-Math.round(e))]})};return v?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-blue-100 pb-16",children:(0,r.jsx)("div",{className:"container mx-auto px-4 pt-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-4 md:p-8 flex flex-col md:flex-row gap-8 max-w-5xl mx-auto",children:[(0,r.jsxs)("div",{className:"md:w-1/2 w-full flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"border rounded-xl overflow-hidden relative bg-white shadow-md w-full",children:[(0,r.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(e=>{if(!e)return null;let s="bg-blue-500";return e.toLowerCase().includes("ppt")&&(s="bg-orange-500"),e.toLowerCase().includes("doc")&&(s="bg-blue-700"),e.toLowerCase().includes("pdf")&&(s="bg-red-500"),(0,r.jsx)("span",{className:`inline-block px-3 py-1 text-xs font-semibold text-white rounded-full ${s}`,children:e.toUpperCase()})})(null===v||void 0===v?void 0:v.fileType)}),null!==v&&void 0!==v&&v.images&&v.images.length>0?(0,r.jsx)("img",{src:v.images[N],alt:null===v||void 0===v?void 0:v.name,className:"w-full h-64 md:h-96 object-contain bg-white"}):(0,r.jsxs)("div",{className:"w-full h-64 md:h-96 flex flex-col items-center justify-center bg-gray-100 text-gray-400",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11a4 4 0 01-8 0"})]}),(0,r.jsx)("span",{className:"text-lg",children:"No preview available"})]}),(null===v||void 0===v?void 0:v.images)&&v.images.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-800/80 hover:bg-gray-900 text-white rounded-full p-2 shadow transition-colors",onClick:()=>k(e=>(e-1+v.images.length)%v.images.length),"aria-label":"Previous preview",children:"<"}),(0,r.jsx)("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-800/80 hover:bg-gray-900 text-white rounded-full p-2 shadow transition-colors",onClick:()=>k(e=>(e+1)%v.images.length),"aria-label":"Next preview",children:">"})]})]}),(null===v||void 0===v?void 0:v.images)&&v.images.length>0&&(0,r.jsx)("div",{className:"flex gap-2 overflow-x-auto mt-2",children:v.images.map((e,s)=>(0,r.jsx)("img",{src:e,alt:(null===v||void 0===v?void 0:v.name)+" "+(s+1),className:"w-16 h-16 object-contain border rounded cursor-pointer bg-white transition-all duration-150 "+(N===s?"ring-2 ring-pink-500":"opacity-70 hover:opacity-100"),onClick:()=>k(s)},s))})]}),(0,r.jsxs)("div",{className:"md:w-1/2 w-full flex flex-col gap-6 justify-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:null===v||void 0===v?void 0:v.name}),(0,r.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:null===v||void 0===v?void 0:v.description}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[(null===v||void 0===v?void 0:v.seller)&&v.seller.avatar&&(0,r.jsx)("img",{src:v.seller.avatar,alt:v.seller.name,className:"w-6 h-6 rounded-full"}),(0,r.jsxs)("span",{children:["by ",(null===v||void 0===v||null===(e=v.seller)||void 0===e?void 0:e.name)||(null===v||void 0===v?void 0:v.author)||"Seller"]}),(null===v||void 0===v?void 0:v.seller)&&v.seller.shopLink&&(0,r.jsx)("a",{href:v.seller.shopLink,className:"text-indigo-600 hover:underline ml-1",children:"Shop"}),(0,r.jsxs)("span",{className:"ml-2 flex items-center gap-1",children:[_((null===v||void 0===v||null===(s=v.seller)||void 0===s?void 0:s.rating)||(null===v||void 0===v?void 0:v.rating)||4.8),(0,r.jsxs)("span",{children:["(",(null===v||void 0===v||null===(l=v.seller)||void 0===l?void 0:l.sales)||120," sales)"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,r.jsxs)("span",{className:"text-2xl text-pink-600 font-semibold",children:["\u20b9",null===v||void 0===v?void 0:v.price]}),(null===v||void 0===v?void 0:v.originalPrice)&&v.originalPrice>v.price&&(0,r.jsxs)("span",{className:"text-gray-400 line-through text-lg",children:["\u20b9",null===v||void 0===v?void 0:v.originalPrice]}),(null===v||void 0===v?void 0:v.originalPrice)&&v.originalPrice>v.price&&(0,r.jsxs)("span",{className:"text-green-600 text-sm font-bold",children:[Math.round(100*(v.originalPrice-v.price)/v.originalPrice),"% OFF"]}),(0,r.jsx)("span",{className:"ml-2 inline-block bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded",children:"Digital Download"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 mb-2 justify-center md:justify-start",children:[(0,r.jsx)("button",{className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 rounded-lg transition-all text-lg shadow-md w-40 "+(L?"opacity-60 cursor-not-allowed":""),onClick:()=>{var e;if(!v)return;if(!v._id&&!v.id)return void alert("This product cannot be added to cart (missing product ID).");const s=v._id||v.id;s?(g({productId:s,name:v.name,price:v.price,quantity:1,image:(null===(e=v.images)||void 0===e?void 0:e[0])||""}),C(!0),setTimeout(()=>C(!1),1200)):alert("This product cannot be added to cart (missing product ID).")},disabled:L,children:L?"Added!":"Add to cart"}),(0,r.jsx)("button",{className:"bg-indigo-700 hover:bg-indigo-800 text-white font-bold py-3 rounded-lg transition-all text-lg shadow-md w-40",onClick:()=>p("/cart"),children:"Buy now"}),(0,r.jsx)("button",{className:"ml-2 p-3 rounded-full border border-gray-200 hover:bg-gray-100",title:"Add to wishlist",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-pink-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 21.364l-7.682-7.682a4.5 4.5 0 010-6.364z"})})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-gray-600 justify-center md:justify-start",children:[(0,r.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})," Instant download"]}),(0,r.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,r.jsxs)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12l2 2 4-4"})]})," Secure payment"]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 flex flex-col gap-2 text-sm mt-4",children:[(0,r.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[v.fileType&&(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:"File type:"})," ",v.fileType]}),v.fileSize&&(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:"File size:"})," ",v.fileSize]}),v.pages&&(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:"Pages/slides:"})," ",v.pages]}),v.compatibility&&v.compatibility.length>0&&(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:"Compatible with:"})," ",v.compatibility.join(", ")]}),v.downloads&&(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:"Downloads:"})," ",v.downloads]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"License:"})," Personal & commercial use"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Delivery:"})," Instant digital download"]})]}),(0,r.jsxs)("div",{className:"text-gray-700 mb-2 whitespace-pre-line mt-4",children:[S||v.description&&v.description.length<300?v.description:(null===(n=v.description)||void 0===n?void 0:n.slice(0,300))+"...",v.description&&v.description.length>300&&(0,r.jsx)("button",{className:"ml-2 text-indigo-600 hover:underline text-xs",onClick:()=>P(e=>!e),children:S?"Show less":"Read more"})]}),v.features&&v.features.length>0&&(0,r.jsx)("ul",{className:"list-disc pl-5 mb-2",children:v.features.map((e,s)=>(0,r.jsx)("li",{className:"text-gray-600",children:e},s))}),(0,r.jsxs)("div",{className:"flex items-center gap-3 bg-white border rounded-lg p-3 mt-2 justify-center md:justify-start",children:[(null===(d=v.seller)||void 0===d?void 0:d.avatar)&&(0,r.jsx)("img",{src:v.seller.avatar,alt:v.seller.name,className:"w-10 h-10 rounded-full"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold",children:(null===(o=v.seller)||void 0===o?void 0:o.name)||v.author||"Seller"}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[_((null===(c=v.seller)||void 0===c?void 0:c.rating)||4.8)," ",(null===(x=v.seller)||void 0===x?void 0:x.sales)||120," sales"]}),(null===(h=v.seller)||void 0===h?void 0:h.shopLink)&&(0,r.jsx)("a",{href:v.seller.shopLink,className:"text-indigo-600 hover:underline text-xs",children:"Visit shop"})]})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1 justify-center md:justify-start",children:[(0,r.jsx)("span",{className:"text-yellow-500 text-lg",children:"\u2605"}),(0,r.jsx)("span",{className:"font-semibold",children:v.rating||4.8}),(0,r.jsxs)("span",{className:"text-gray-500 text-sm",children:["(",v.reviews?v.reviews.length:120," reviews)"]})]}),(0,r.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-2",children:v.reviews&&v.reviews.length>0?v.reviews.slice(0,3).map((e,s)=>(0,r.jsxs)("div",{className:"bg-white rounded p-2 border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"font-bold text-gray-700",children:e.user}),(0,r.jsx)("span",{className:"text-yellow-500",children:"\u2605".repeat(e.rating)})]}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:e.comment})]},s)):(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"No reviews yet."})})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"font-semibold mb-2",children:"You may also like"}),(0,r.jsxs)("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[(0,r.jsx)("div",{className:"w-32 h-32 bg-gray-100 rounded flex items-center justify-center text-gray-400 text-xs",children:"Related 1"}),(0,r.jsx)("div",{className:"w-32 h-32 bg-gray-100 rounded flex items-center justify-center text-gray-400 text-xs",children:"Related 2"}),(0,r.jsx)("div",{className:"w-32 h-32 bg-gray-100 rounded flex items-center justify-center text-gray-400 text-xs",children:"Related 3"})]})]})]})]})})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"Loading product..."})}}}]);
//# sourceMappingURL=29.33385129.chunk.js.map