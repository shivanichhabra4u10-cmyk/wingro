{"version":3,"file":"static/js/572.4480dd4d.chunk.js","mappings":"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","sources":["pages/admin/AdminUsers.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\ninterface User {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n  role: string;\r\n  createdAt: string;\r\n  lastLogin?: string;\r\n}\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3001/api/auth',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n\r\n// Add auth token to requests\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token && config.headers) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n\r\nconst AdminUsers: React.FC = () => {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [roleUpdating, setRoleUpdating] = useState<string | null>(null);\r\n  const [successMsg, setSuccessMsg] = useState<string | null>(null);\r\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [editUser, setEditUser] = useState<User | null>(null);\r\n  const [deleteUserId, setDeleteUserId] = useState<string | null>(null);\r\n  const [deleting, setDeleting] = useState(false);\r\n  // Pagination state\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await api.get(`/users?page=${page}&limit=${limit}`);\r\n      setUsers(res.data.users || []);\r\n      setTotalPages(res.data.totalPages || 1);\r\n      setTotalCount(res.data.totalCount || 0);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Failed to fetch users:', err);\r\n      setError('Failed to load users. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRoleChange = async (userId: string, newRole: string) => {\r\n    setRoleUpdating(userId);\r\n    setSuccessMsg(null);\r\n    try {\r\n      await api.put(`/users/role`, { userId, role: newRole });\r\n      setUsers((prev) =>\r\n        prev.map((u) => (u._id === userId ? { ...u, role: newRole } : u))\r\n      );\r\n      setSuccessMsg('Role updated successfully.');\r\n    } catch (err) {\r\n      setError('Failed to update role.');\r\n    } finally {\r\n      setRoleUpdating(null);\r\n    }\r\n  };\r\n\r\n  const handleViewDetails = (user: User) => {\r\n    setSelectedUser(user);\r\n    setShowDetails(true);\r\n  };\r\n\r\n  const handleEdit = (user: User) => {\r\n    setEditUser(user);\r\n    setShowEdit(true);\r\n  };\r\n\r\n  const handleEditSave = async () => {\r\n    if (!editUser) return;\r\n    try {\r\n      await api.put(`users/${editUser._id}`, editUser);\r\n      setUsers((prev) => prev.map((u) => (u._id === editUser._id ? editUser : u)));\r\n      setSuccessMsg('User updated successfully.');\r\n      setShowEdit(false);\r\n    } catch (err) {\r\n      setError('Failed to update user.');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (userId: string) => {\r\n    setDeleting(true);\r\n    try {\r\n      await api.delete(`users/${userId}`);\r\n      setUsers((prev) => prev.filter((u) => u._id !== userId));\r\n      setSuccessMsg('User deleted successfully.');\r\n      setDeleteUserId(null);\r\n    } catch (err) {\r\n      setError('Failed to delete user.');\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, [page, limit]);\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">User Management</h1>\r\n          <p className=\"mt-2 text-sm text-gray-600\">\r\n            View and manage users registered on the WinGroX AI platform.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error message */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4 mb-6\">\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm text-red-700\">{error}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Success message */}\r\n      {successMsg && (\r\n        <div className=\"bg-green-50 border-l-4 border-green-400 p-4 mb-6\">\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              <svg className=\"h-5 w-5 text-green-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.293 9.293a1 1 0 011.414 0L10 9.586l.293-.293a1 1 0 111.414 1.414L10 12.414l-1.707-1.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-sm text-green-700\">{successMsg}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Loading state */}\r\n      {loading ? (\r\n        <div className=\"flex justify-center items-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500\"></div>\r\n          <span className=\"ml-3 text-lg text-gray-700\">Loading users...</span>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Users table */}\r\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\r\n            {users.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <svg\r\n                  className=\"mx-auto h-12 w-12 text-gray-400\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth=\"2\"\r\n                    d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\r\n                  />\r\n                </svg>\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No users found</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">There are no users registered in the system.</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        User\r\n                      </th>\r\n                      <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Role\r\n                      </th>\r\n                      <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Joined\r\n                      </th>\r\n                      <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Last Login\r\n                      </th>\r\n                      <th scope=\"col\" className=\"relative px-6 py-3\">\r\n                        <span className=\"sr-only\">Actions</span>\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {users.map((user) => (\r\n                      <tr key={user._id} className=\"hover:bg-gray-50\">\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"flex items-center\">\r\n                            <div className=\"flex-shrink-0 h-10 w-10\">\r\n                              <div className=\"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500 font-medium\">\r\n                                {user.name?.charAt(0).toUpperCase() || 'U'}\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"ml-4\">\r\n                              <div className=\"text-sm font-medium text-gray-900\">{user.name}</div>\r\n                              <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <select\r\n                            className={`px-2 py-1 text-xs rounded-full border focus:outline-none ${user.role === 'admin' ? 'bg-purple-100 text-purple-800' : 'bg-green-100 text-green-800'}`}\r\n                            value={user.role}\r\n                            disabled={roleUpdating === user._id}\r\n                            onChange={(e) => handleRoleChange(user._id, e.target.value)}\r\n                          >\r\n                            <option value=\"user\">User</option>\r\n                            <option value=\"admin\">Admin</option>\r\n                            <option value=\"coach\">Coach</option>\r\n                          </select>\r\n                          {roleUpdating === user._id && (\r\n                            <span className=\"ml-2 text-xs text-gray-500\">Updating...</span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm text-gray-900\">\r\n                            {new Date(user.createdAt).toLocaleDateString()}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm text-gray-900\">\r\n                            {user.lastLogin \r\n                              ? new Date(user.lastLogin).toLocaleDateString() \r\n                              : 'Never'}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex gap-2 justify-end\">\r\n                          <button\r\n                            className=\"text-indigo-600 hover:text-indigo-900\"\r\n                            onClick={() => handleViewDetails(user)}\r\n                          >\r\n                            View Details\r\n                          </button>\r\n                          <button\r\n                            className=\"text-blue-600 hover:text-blue-900\"\r\n                            onClick={() => handleEdit(user)}\r\n                          >\r\n                            Edit\r\n                          </button>\r\n                          <button\r\n                            className=\"text-red-600 hover:text-red-900\"\r\n                            onClick={() => setDeleteUserId(user._id)}\r\n                            disabled={deleting && deleteUserId === user._id}\r\n                          >\r\n                            {deleting && deleteUserId === user._id ? 'Deleting...' : 'Delete'}\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n      {/* Pagination Controls */}\r\n      <div className=\"flex justify-between items-center mt-4\">\r\n        <div className=\"text-sm text-gray-600\">\r\n          Showing {users.length ? (page - 1) * limit + 1 : 0} - {Math.min(page * limit, totalCount)} of {totalCount} users\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            className=\"px-3 py-1 rounded bg-gray-200 text-gray-700 disabled:opacity-50\"\r\n            onClick={() => setPage((p) => Math.max(1, p - 1))}\r\n            disabled={page === 1}\r\n          >\r\n            Previous\r\n          </button>\r\n          <span className=\"px-2 py-1\">Page {page} of {totalPages}</span>\r\n          <button\r\n            className=\"px-3 py-1 rounded bg-gray-200 text-gray-700 disabled:opacity-50\"\r\n            onClick={() => setPage((p) => Math.min(totalPages, p + 1))}\r\n            disabled={page === totalPages}\r\n          >\r\n            Next\r\n          </button>\r\n          <select\r\n            className=\"ml-2 px-2 py-1 border rounded\"\r\n            value={limit}\r\n            onChange={e => { setLimit(Number(e.target.value)); setPage(1); }}\r\n          >\r\n            {[10, 20, 50, 100].map(opt => (\r\n              <option key={opt} value={opt}>{opt} / page</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Details Modal */}\r\n      {showDetails && selectedUser && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\">\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative\">\r\n            <button className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-700\" onClick={() => setShowDetails(false)}>&times;</button>\r\n            <h2 className=\"text-xl font-bold mb-4\">User Details</h2>\r\n            <div className=\"mb-2\"><span className=\"font-semibold\">Name:</span> {selectedUser.name}</div>\r\n            <div className=\"mb-2\"><span className=\"font-semibold\">Email:</span> {selectedUser.email}</div>\r\n            <div className=\"mb-2\"><span className=\"font-semibold\">Role:</span> {selectedUser.role}</div>\r\n            <div className=\"mb-2\"><span className=\"font-semibold\">Joined:</span> {new Date(selectedUser.createdAt).toLocaleString()}</div>\r\n            <div className=\"mb-2\"><span className=\"font-semibold\">Last Login:</span> {selectedUser.lastLogin ? new Date(selectedUser.lastLogin).toLocaleString() : 'Never'}</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Modal */}\r\n      {showEdit && editUser && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\">\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative\">\r\n            <button className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-700\" onClick={() => setShowEdit(false)}>&times;</button>\r\n            <h2 className=\"text-xl font-bold mb-4\">Edit User</h2>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"w-full border rounded px-3 py-2\"\r\n                value={editUser.name}\r\n                onChange={e => setEditUser({ ...editUser, name: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"w-full border rounded px-3 py-2\"\r\n                value={editUser.email}\r\n                onChange={e => setEditUser({ ...editUser, email: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Role</label>\r\n              <select\r\n                className=\"w-full border rounded px-3 py-2\"\r\n                value={editUser.role}\r\n                onChange={e => setEditUser({ ...editUser, role: e.target.value })}\r\n              >\r\n                <option value=\"user\">User</option>\r\n                <option value=\"admin\">Admin</option>\r\n                <option value=\"coach\">Coach</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button className=\"px-4 py-2 bg-gray-200 rounded\" onClick={() => setShowEdit(false)}>Cancel</button>\r\n              <button className=\"px-4 py-2 bg-blue-600 text-white rounded\" onClick={handleEditSave}>Save</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {deleteUserId && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\">\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-sm relative\">\r\n            <h2 className=\"text-lg font-bold mb-4\">Delete User</h2>\r\n            <p>Are you sure you want to delete this user? This action cannot be undone.</p>\r\n            <div className=\"flex justify-end gap-2 mt-6\">\r\n              <button className=\"px-4 py-2 bg-gray-200 rounded\" onClick={() => setDeleteUserId(null)}>Cancel</button>\r\n              <button className=\"px-4 py-2 bg-red-600 text-white rounded\" onClick={() => handleDelete(deleteUserId)} disabled={deleting}>\r\n                {deleting ? 'Deleting...' : 'Delete'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminUsers;\r\n"],"names":["api","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","AdminUsers","users","setUsers","useState","loading","setLoading","setError","roleUpdating","setRoleUpdating","successMsg","setSuccessMsg","selectedUser","setSelectedUser","showDetails","setShowDetails","showEdit","setShowEdit","editUser","setEditUser","deleteUserId","setDeleteUserId","deleting","setDeleting","page","setPage","limit","setLimit","totalPages","setTotalPages","totalCount","setTotalCount","useEffect","async","res","get","data","err","console","fetchUsers","_jsxs","className","children","_jsx","xmlns","viewBox","fill","fillRule","d","clipRule","_Fragment","length","stroke","strokeLinecap","strokeLinejoin","strokeWidth","scope","map","user","_user$name","name","charAt","toUpperCase","email","role","value","disabled","_id","onChange","e","userId","newRole","put","prev","u","handleRoleChange","target","Date","createdAt","toLocaleDateString","lastLogin","onClick","handleViewDetails","handleEdit","Math","min","p","max","Number","opt","toLocaleString","type","delete","filter","handleDelete"],"sourceRoot":""}