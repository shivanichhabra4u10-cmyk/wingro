{"version":3,"file":"static/js/915.bf11ba1d.chunk.js","mappings":"0KAYA,MAqDA,EArD2BA,KACzB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAyB,KAC5CC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAwB,MA4BlD,OA1BAK,EAAAA,EAAAA,WAAU,KACR,MACMC,EADS,IAAIC,gBAAgBC,OAAOC,SAASC,QAC1BC,IAAI,eAC7BC,iBACEV,GAAW,GACXE,EAAS,MACT,IACE,IAAKE,EAAW,MAAM,IAAIO,MAAM,sBAEhC,MAAMC,QAAYC,MAAM,uCAAuCT,KACzDU,QAAaF,EAAIG,OACvB,IAAKH,EAAII,GAGP,OAFAd,EAASY,GAAQA,EAAKb,MAAQa,EAAKb,MAAQ,uCAC3CJ,EAAS,IAGXA,EAASoB,MAAMC,QAAQJ,EAAKlB,OAASkB,EAAKlB,MAAQ,GACpD,CAAE,MAAOuB,GACPjB,EAASiB,EAAIC,SAAW,gBAC1B,CAAC,QACCpB,GAAW,EACb,CACF,CACAqB,IACC,IAECtB,GAAgBuB,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEC,UAAW,SAAUC,OAAQ,IAAKC,SAAC,0BACjEzB,GAAcqB,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEI,MAAO,MAAOH,UAAW,SAAUC,OAAQ,IAAKC,SAAEzB,KAEhFqB,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEK,UAAW,QAASC,SAAU,EAAGC,MAAO,QAASC,UAAW,SAAUC,WAAY,oDAAqDC,QAAS,EAAGR,OAAQ,GAAIC,UAC3KQ,EAAAA,EAAAA,MAAA,OAAKX,MAAO,CAAEO,MAAO,QAASL,OAAQ,EAAGO,WAAY,OAAQG,aAAc,GAAIC,UAAW,oCAAqCH,QAAS,IAAKP,SAAA,EAC3IJ,EAAAA,EAAAA,KAAA,MAAIC,MAAO,CAAEC,UAAW,SAAUG,MAAO,UAAWU,aAAc,IAAKX,SAAC,kCACxEJ,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEe,QAAS,OAAQC,cAAe,SAAUC,IAAK,IAAKd,SAC9C,IAAjB9B,EAAM6C,QACLnB,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEI,MAAO,OAAQH,UAAW,UAAWE,SAAC,qCAClD9B,EAAM8C,IAAI,CAACC,EAAMC,KACnBtB,EAAAA,EAAAA,KAAA,KAA4BuB,KAAMF,EAAKG,IAAKC,UAAQ,EAACC,OAAO,SAASC,IAAI,sBAAqBvB,UAC5FJ,EAAAA,EAAAA,KAAA,UAAQC,MAAO,CAAEO,MAAO,OAAQG,QAAS,SAAUD,WAAY,mDAAoDL,MAAO,OAAQuB,OAAQ,OAAQf,aAAc,EAAGgB,WAAY,IAAKC,SAAU,GAAIC,OAAQ,UAAWjB,UAAW,mCAAoCC,aAAc,GAAIX,SACnRiB,EAAKW,aAAe,YAAYX,EAAKW,eAAiB,iBAAiBV,EAAM,OAF1ED,EAAKY,QAAUX,W","sources":["pages/Download.tsx"],"sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\n\r\ntype DownloadFile = {\r\n  url: string;\r\n  originalName?: string;\r\n  fileType?: string;\r\n  fileId?: string;\r\n  size?: number;\r\n  uploadDate?: string;\r\n};\r\n\r\nconst Download: React.FC = () => {\r\n  const [files, setFiles] = useState<DownloadFile[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const sessionId = params.get('session_id');\r\n    async function fetchFiles() {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        if (!sessionId) throw new Error('Missing session ID');\r\n        // Fetch download links from backend\r\n        const res = await fetch(`http://localhost:3001/api/downloads/${sessionId}`);\r\n        const data = await res.json();\r\n        if (!res.ok) {\r\n          setError(data && data.error ? data.error : 'Failed to fetch download links');\r\n          setFiles([]);\r\n          return;\r\n        }\r\n        setFiles(Array.isArray(data.files) ? data.files : []);\r\n      } catch (err: any) {\r\n        setError(err.message || 'Unknown error');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchFiles();\r\n  }, []);\r\n\r\n  if (loading) return <div style={{ textAlign: 'center', margin: 40 }}>Loading your files...</div>;\r\n  if (error) return <div style={{ color: 'red', textAlign: 'center', margin: 40 }}>{error}</div>;\r\n  return (\r\n    <div style={{ minHeight: '100vh', minWidth: 0, width: '100vw', overflowX: 'hidden', background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)', padding: 0, margin: 0 }}>\r\n      <div style={{ width: '100vw', margin: 0, background: '#fff', borderRadius: 16, boxShadow: '0 2px 12px 0 rgba(80,80,120,0.08)', padding: 32 }}>\r\n        <h2 style={{ textAlign: 'center', color: '#3730a3', marginBottom: 24 }}>Thank you for your purchase!</h2>\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: 18 }}>\r\n          {files.length === 0 ? (\r\n            <div style={{ color: '#888', textAlign: 'center' }}>No files available for download.</div>\r\n          ) : files.map((file, idx) => (\r\n            <a key={file.fileId || idx} href={file.url} download target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <button style={{ width: '100%', padding: '14px 0', background: 'linear-gradient(90deg, #6366f1 0%, #a21caf 100%)', color: '#fff', border: 'none', borderRadius: 8, fontWeight: 700, fontSize: 17, cursor: 'pointer', boxShadow: '0 2px 8px 0 rgba(80,80,120,0.10)', marginBottom: 8 }}>\r\n                {file.originalName ? `Download ${file.originalName}` : `Download File ${idx + 1}`}\r\n              </button>\r\n            </a>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Download;\r\n"],"names":["Download","files","setFiles","useState","loading","setLoading","error","setError","useEffect","sessionId","URLSearchParams","window","location","search","get","async","Error","res","fetch","data","json","ok","Array","isArray","err","message","fetchFiles","_jsx","style","textAlign","margin","children","color","minHeight","minWidth","width","overflowX","background","padding","_jsxs","borderRadius","boxShadow","marginBottom","display","flexDirection","gap","length","map","file","idx","href","url","download","target","rel","border","fontWeight","fontSize","cursor","originalName","fileId"],"sourceRoot":""}